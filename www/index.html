
<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>A Postman's Quest</title>

	<script src="js/zim_2.4.js"></script>
	<script src="js/createjs-2015.05.21.min.js"></script>
	<script src="js/swipe.js"></script>

	<style>
		body {margin:0px; padding:0px; background-color:#000;}
		#myCanvas {position:absolute; background-color:darkred;}
	</style>

	<script>

		var scaling = "fit"; // fit scales to fit the browser window while keeping the aspect ratio
		var width = 640;
		var height = 1136;

		var showHelp = false;
		var showHelp = false;

		var frame = new zim.Frame(scaling, width, height);
		frame.on("ready", function() {

			imagePath = "img/";
			imgManifest = [
				{id:"bt", src:"border-top.png"},
				{id:"bb", src:"border-bottom.png"},
				{id:"bl", src:"border-left.png"},
				{id:"br", src:"border-right.png"}
			];

			//load images
			preloadImg = new createjs.LoadQueue(true, imagePath);
			preloadImg.loadManifest(imgManifest);
			preloadImg.on("complete", init); //on load, start the game

			}); // end of ready

		function init(){
			var stage = frame.stage;
			var stageW = frame.width;
			var stageH = frame.height;

			var instructions = new createjs.Container();
			//instructions.y = -25;
			instructions.y = -stageH+25+62;
			stage.addChild(instructions);

			var c = new zim.Rectangle(stageW, stageH-50, "powderblue");
			instructions.addChild(c);
			zim.centerReg(c,stage);

			var cTab = new zim.Rectangle(100, 50, "powderblue",0,0,10);
			instructions.addChild(cTab);
			zim.centerReg(cTab,stage);
			cTab.y = stageH-10;
			cTab.x = stageW-100;

			var titleH = new createjs.Text("HELP", "bold 24px Arial", "darkred");
			zim.centerReg(titleH,stage);
			instructions.addChild(titleH);
			titleH.y = stageH-10;
			titleH.x = stageW-100;

			var text = new createjs.Text("Hello World", "bold 86px Arial", "#ff7700");
			zim.centerReg(text,c);
			instructions.addChild(text);

			var distance = 100;
			swipe.cjsSwipe(instructions,stage);
			instructions.addEventListener("swipe", function(e) {
				if (e.swipeY == 1 && showHelp == false){
					showHelp = true;
					createjs.Tween.get(instructions)
							.to({y:-25-18}, 1000, createjs.Ease.quadIn);
				}

				if (e.swipeY == -1 && showHelp == true){
					showHelp = false;
					createjs.Tween.get(instructions)
							.to({y:-stageH+25+62}, 1000, createjs.Ease.quadOut);
				}
			});

			//ADD THE BORDERS TO THE FRAME!
			var bt = new createjs.Bitmap(preloadImg.getResult("bt"));
			var bb = new createjs.Bitmap(preloadImg.getResult("bb"));
			var bl = new createjs.Bitmap(preloadImg.getResult("bl"));
			var br = new createjs.Bitmap(preloadImg.getResult("br"));

			bb.y = stageH-18;
			bl.y = 62;
			br.x = stageW - 18;
			br.y = 62;

			stage.addChild(bt);
			stage.addChild(bb);
			stage.addChild(bl);
			stage.addChild(br);

			createjs.Ticker.addEventListener("tick", tick);

			function tick(){
				stage.update();
			}
		}
	</script>
</head>

<body>
</body>
</html>
